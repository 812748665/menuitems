(function(){var a=(function(){var d,b=3,e=document.createElement("div"),c=e.getElementsByTagName("i");while(e.innerHTML="<!--[if gt IE "+(++b)+"]><i></i><![endif]-->",c[0]){}return b>4?b:d})();$.fn.menuItems=function(b){$(this).each(function(){var h=function(p){var r={};$.each(k,function(s,u){if(typeof p.attr("data-mi-"+[s])!=="undefined"&&typeof p.attr("data-mi-"+[s])!==false){try{r[[s]]=$.parseJSON(p.attr("data-mi-"+[s]));return true}catch(t){}if(typeof r[s]!=="object"){r[[s]]=p.attr("data-mi-"+[s])}}});var q=(typeof p.attr("data-mi")!=="undefined"&&typeof p.attr("data-mi")!==false?$.parseJSON(p.attr("data-mi")):[]);$.extend(true,r,q);if(a<9){$.each(r,function(s,t){if(typeof i(r[s])!=="undefined"){r[s]=i(r[s])}if(typeof i(r[s])!=="undefined"){r[s]=i(r[s])}})}return r};var i=function(p){try{var q=p.split("(")}catch(r){return}if(typeof q[1]!=="undefined"){q=q[1].split(")")[0].split(",");return"rgb("+q[0]+","+q[1]+","+q[2]+")"}return};var o=$(this);o.addClass("mi-container");var g=$('<div class="menuItems"></div>').appendTo(o);var d=[];var e=o.is("body")||(o.outerHeight()>=$(document).height()&&o.outerWidth()>=$(document).width());var k={items:[],listContainerAnimationSpeed:"750ms",textHoverSpeed:"1500ms",onActivateSpeed:"1500ms",color:"lightgrey",activeBorderColor:"white",borderColor:"white",borderWidth:1,activeFill:"rgba(255, 255, 255, 1)",activePadding:"5px",inactiveFill:"rgba(255, 255, 255, 0)",inactivePadding:"3px",fontWeight:"bold",showTextOnActive:true,bounceButton:true,themes:{},theme:null,screenSizes:[{maxHeight:99999,minHeight:0,maxWidth:99999,minWidth:0,theme:"default"}],position:"right",stick:false,hierarchical:true};$.extend(true,k,b);var m=function(){var u;var t=$(window).scrollTop();for(var q=0;q<d.length;q++){if(t>d[q].offset().top-$(".header").outerHeight(true)-7-($(window).height()/2)+(g.height()/2)){u=q}}if(u!==n){n=u;if(history.replaceState){history.replaceState(null,null,"#!"+g.children(".item:eq("+u+")").attr("data-mi-scrollTo"))}g.children(".item:eq("+u+")").addClass("active").siblings().removeClass("active")}if(k.hierarchical===true&&e===false){var p=o.offset().top;var r=o.outerHeight(true);var s=$(window).height()/2;var v=t-p+s;v=(((v-g.height()>r?r:v)<0)?0:v);g.css("top",v)}g.children(".item").each(function(z){var x={};var A=g.children(".item:eq("+z+")").offset().top;if(g.hasClass("mi-fixed")){var w=h(d[u]);x=k.themes[w.theme]}else{$("[data-mi-theme]").each(function(C){var D=$(this).offset().top;for(var E=0;E<d.length;E++){if((D<A)&&(D+$(this).height()>A)){var B=h($(this));x=k.themes[B.theme]}}})}var y=$.extend(true,{},k,x);var w=h(d[z]);$.extend(true,y,w);$(this).css({color:y.color,fontWeight:y.fontWeight});$(this).find(".circle").css("border",k.borderWidth+"px solid "+y.borderColor);$(this).find(".circle").css("background",($(this).hasClass("active")?y.activeFill:y.inactiveFill));$(this).find(".circle").css("padding",($(this).hasClass("active")?y.activePadding:y.inactivePadding))})};var f=function(){if(g.hasClass("mi-fixed")){g.css("margin-top",-(g.outerHeight(true)/2))}for(var q=0;q<k.screenSizes.length;q++){if(($(window).height()<k.screenSizes[q].maxHeight&&$(window).height()>k.screenSizes[q].minHeight)&&($(window).width()<k.screenSizes[q].maxWidth&&$(window).width()>k.screenSizes[q].minWidth)){var p=$.extend(true,{},k,k.themes[k.screenSizes[q].theme])}}m()};var c={update:function(q){q=(typeof q!=="undefined"?q:{});k=$.extend(true,k,q);d=[];g.empty();o.find(".menuItem").each(function(){if($(this).parents(".mi-container").first().is(o)){d.push($(this))}});g.css("transition","all "+k.listContainerAnimationSpeed);g.css("-webkit-transition","all "+k.listContainerAnimationSpeed);g.css("-moz-transition","all "+k.listContainerAnimationSpeed);if(k.hierarchical===true&&e===false){g.addClass("mi-absolute").removeClass("mi-fixed")}else{g.addClass("mi-fixed").removeClass("mi-absolute")}var r=["left","right","top-center","right","bottom-center"];for(var p=0;p<r.length;p++){g.removeClass("mi-position_"+r[p])}g.addClass("mi-position_"+k.position);for(var p=0;p<d.length;p++){g.append($("<div class='item' data-mi-scrollTo='"+d[p].attr("id")+"'><div class='circle'></div><span>"+d[p].data("mi-title")+"</span></div>"))}g.children(".item").each(function(u){var t=$.extend(true,{},k);var s=h(d[u]);$.extend(true,t,s);$(this).find("span").css("animation-duration",t.textHoverSpeed);$(this).find("span").css("-webkit-animation-duration",t.textHoverSpeed);$(this).find("span").css("-moz-animation-duration",t.textHoverSpeed);if(t.showTextOnActive===true){$(this).addClass("mi-showText")}else{$(this).removeClass("mi-showText")}if(t.bounceButton===true){$(this).addClass("mi-bounceButton");$(this).css("animation-duration",t.onActivateSpeed);$(this).css("-webkit-animation-duration",t.onActivateSpeed);$(this).css("-moz-animation-duration",t.onActivateSpeed)}else{$(this).removeClass("mi-bounceButton")}});f()}};$(document).on("click","[data-mi-scrollTo]",function(q){if(history.pushState){history.pushState(null,null,"#!"+$(this).attr("data-mi-scrollTo"));var p=$(this);$("body").removeClass("sidebar_open");l(p.attr("data-mi-scrollTo"))}else{window.location.hash="#!"+$(this).data("mi-scrollTo")}q.preventDefault();return false});c.update();m();var n=-1;var j;$(window).on("scroll",function(p){m()});$(window).on("resize",function(){f()});var l=function(p){if($("#"+p).length){$.scrollTo($("#"+p),800,{onAfter:function(){if(p!=="feature"){$(".header").addClass("hide")}}})}};$(function(){if(window.location.hash){l(window.location.hash.substring(2))}else{if(history.pushState){history.pushState(null,null,"#!feature")}else{window.location.hash="!feature"}}if($("[data-mi-autoinit]").length>0){$("[data-mi-autoinit]").parent().menuItems()}})})}})();