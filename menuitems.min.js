(function(){$.fn.menuItems=function(d){var f=function(i){var p={};$.each(k,function(q,s){if(typeof i.attr("data-mi-"+[q])!=="undefined"&&typeof i.attr("data-mi-"+[q])!==false){try{p[[q]]=$.parseJSON(i.attr("data-mi-"+[q]));return true}catch(r){}if(typeof p[q]!=="object"){p[[q]]=i.attr("data-mi-"+[q])}}});var o=(typeof i.attr("data-mi")!=="undefined"&&typeof i.attr("data-mi")!==false?$.parseJSON(i.attr("data-mi")):[]);$.extend(true,p,o);if(ie<9){$.each(p,function(q,r){if(typeof g(p[q])!=="undefined"){p[q]=g(p[q])}if(typeof g(p[q])!=="undefined"){p[q]=g(p[q])}})}return p};var g=function(i){try{var o=i.split("(")}catch(p){return}if(typeof o[1]!=="undefined"){o=o[1].split(")")[0].split(",");return"rgb("+o[0]+","+o[1]+","+o[2]+")"}return};var n=($(this).length!==0?$(this):$('<div class="menuItems"></div>').appendTo("body"));var k={textHoverSpeed:"1500ms",onActivateSpeed:"1500ms",color:"white",borderColor:"white",borderWidth:1,activeFill:"rgba(255, 255, 255, 1)",activePadding:"5px",inactiveFill:"rgba(255, 255, 255, 0)",inactivePadding:"3px",fontWeight:"bold",opacity:1,showTextOnActive:true,bounceCircle:true};$.extend(true,k,d);var c=[];$(".menuItem").each(function(){c.push($(this))});for(var j=0;j<c.length;j++){n.append($("<div class='item' data-mi-scrollTo='"+c[j].attr("id")+"'><div class='circle'></div><span>"+c[j].data("mi-title")+"</span></div>"))}var l=function(){var p;for(var o=0;o<c.length;o++){if($(window).scrollTop()>c[o].offset().top-$(".header").outerHeight(true)-7-$(window).height()/2){p=o}}if(p!==m){m=p;if(history.replaceState){history.replaceState(null,null,"#!"+n.children(".item:eq("+p+")").attr("data-mi-scrollTo"))}n.children(".item:eq("+p+")").addClass("active").siblings().removeClass("active")}n.children(".item").each(function(u){var s=$.extend(true,{},k);var q=f(c[u]);$.extend(true,s,q);var v=$(window).scrollTop(),t=$(c[u]).offset().top,w=(t-v+$(c[u]).outerHeight(true));var t=n.offset().top,r=(t-v);$(this).css({color:s.color,fontWeight:s.fontWeight});$(this).find(".circle").css("border",k.borderWidth+"px solid "+s.borderColor);$(this).find(".circle").css("background",($(this).hasClass("active")?s.activeFill:s.inactiveFill));$(this).find(".circle").css("padding",($(this).hasClass("active")?s.activePadding:s.inactivePadding))})};var e=function(){n.css("margin-top",-(n.outerHeight(true)/2))};var b={update:function(){n.children(".item").each(function(q){var p=$.extend(true,{},k);var o=f(c[q]);$.extend(true,p,o);$(this).find("span").css("animation-duration",p.textHoverSpeed);$(this).find("span").css("-webkit-animation-duration",p.textHoverSpeed);$(this).find("span").css("-moz-animation-duration",p.textHoverSpeed);if(p.showTextOnActive===true){$(this).addClass("mi-showText")}else{$(this).removeClass("mi-showText")}if(p.bounceCircle===true){$(this).addClass("mi-bounceCircle");$(this).css("animation-duration",p.onActivateSpeed);$(this).css("-webkit-animation-duration",p.onActivateSpeed);$(this).css("-moz-animation-duration",p.onActivateSpeed)}else{$(this).removeClass("mi-bounceCircle")}});e()}};$("[data-mi-scrollTo]").on("click",function(o){if(history.pushState){history.pushState(null,null,"#!"+$(this).attr("data-mi-scrollTo"));var i=$(this);$("body").removeClass("sidebar_open");a(i.attr("data-mi-scrollTo"))}else{window.location.hash="#!"+$(this).data("mi-scrollTo")}o.preventDefault();return false});b.update();l();var m=-1;var h;$(window).on("scroll",function(i){l()});$(window).on("resize",function(){e()})};var a=function(b){if($("#"+b).length){$.scrollTo($("#"+b),800,{onAfter:function(){if(b!=="feature"){$(".header").addClass("hide")}}})}};$(function(){if(window.location.hash){a(window.location.hash.substring(2))}else{if(history.pushState){history.pushState(null,null,"#!feature")}else{window.location.hash="!feature"}}if($("[data-mi-autoinit]").length>0){$("[data-mi-init_nonexistent]").menuItems()}})})();